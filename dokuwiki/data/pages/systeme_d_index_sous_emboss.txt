===== Système d'index sous Emboss =====

Pour connaitre tout les programmes liés aux index, le programme **wossname** d'Emboss permet d'obtenir la liste de ces programmes.

<code>
wossname index

Find programs by keywords in their short description
SEARCH FOR 'INDEX'
aaindexextract Extract amino acid property data from AAINDEX
cai            Calculate codon adaptation index
dbiblast       Index a BLAST database
dbifasta       Index a fasta file database
dbiflat        Index a flat file database
dbigcg         Index a GCG formatted database
dbxcompress    Compress an uncompressed dbx index
dbxedam        Index the EDAM ontology using b+tree indices
dbxfasta       Index a fasta file database using b+tree indices
dbxflat        Index a flat file database using b+tree indices
dbxgcg         Index a GCG formatted database using b+tree indices
dbxobo         Index an obo ontology using b+tree indices
dbxreport      Validate index and report internals for dbx databases
dbxresource    Index a data resource catalogue using b+tree indices
dbxstat        Dump statistics for dbx databases
dbxtax         Index NCBI taxonomy using b+tree indices
dbxuncompress  Uncompress a compressed dbx index
</code>

Dans la liste de ces programmes, deux ont été utilisés pour la création d'index venant de différentes banques de données. Ces indexeurs sont **dbiflat** et **dbxflat**.

Remarques: Avant d'utiliser ces indexeurs assuré vous que les banques de données soient bien visibles par Emboss. 
Comment ?
En utilisant **showdb**

**dbiflat (méthode EMBL-CD) :** 

Cet indexeur construit des index au format EMBL CD-ROM.
Donc il créera un index avec le format EMBL, mais le gros problème est que seul les fichiers de petite taille pourront être indexé.

Il posera plusieurs questions pour faire un index souhaité comme ceci :

<code>
% dbiflat
Index a flat file database
Database name: EMBL
      EMBL : EMBL
     SWISS : Swiss-Prot, SpTrEMBL, TrEMBLnew
        GB : Genbank, DDBJ
    REFSEQ : Refseq
Entry format [SWISS]: EMBL
Database directory [.]: embl
Wildcard database filename [*.dat]: rod.dat
Release number [0.0]:
Index date [00/00/00]:
General log output file [outfile.dbiflat]:
</code>

**dbxflat (méthode EMBOSS):**

Cet indexeur construit un index selon le format EMBOSS. 
L'avantage c'est que ce système peut indexer des fichiers de banques de taille plus importante et demande les champs que l'on veut récupérer.
Remarque: un tfm dbxflat permet d'obtenir des informations supplémentaires sur les options du programme.

exemple d'utilisation de dbxflat:

<code>
% dbxflat
Index a flat file database using b+tree indices
Basename for index files: embl
Resource name: emblresource
      EMBL : EMBL
     SWISS : Swiss-Prot, SpTrEMBL, TrEMBLnew
        GB : Genbank, DDBJ
    REFSEQ : Refseq
     FASTQ : Fastq files
     USPTO : Iguspto files
Entry format [SWISS]: embl
Wildcard database filename [*.dat]: rod.dat
Database directory [.]: embl
        id : ID
       acc : Accession number
        sv : Sequence Version and GI
       des : Description
       key : Keywords
       org : Taxonomy
Index fields [id,acc]:
Compressed index files [Y]:
General log output file [outfile.dbxflat]:
</code>

** application personnalisé (méthode APP): **

Cette méthode n'utilise pas des indexeurs comme précédemment défini mais une application ou programme créer par l'utilisateur.
Pour utiliser cette méthode il faut indiquer dans le fichier emboss.default que la méthode utilisé est "app" et lui spécifié le chemin d'accés du programme.
<code>
DB bct [ type: N dir: /data/dbs/sbct
	method: app format: genbank release: 42
	app: "/usr/local/bin/getentry2"
	fields: "sv des org key"
	comment: "Banque avec une application personnalisee." ]
</code>
**Remarque**: Emboss utilise un format banque:entrée, le programme doit être pensé pour reçevoir ce genre d'entrée.

[[ Banques actuelles ajoutées ]]